<form class="form" [formGroup]="form" (ngSubmit)="onSubmit()">
  <legend class="c-title">Adicione sua receita</legend>
  <div class="c-input">
  <div class="c-input">
    <label   class="c-input-label" >Categoria: </label>
    <select class="c-inputs-select"     id="category" formControlName="category">
      <option  *ngFor="let category of categories" [value]="category.category">
        {{ category.category }}
      </option>
    </select>
    <app-control-erro [mostrarErro]="verificaValidTouched('category')" msgErro="Campo obrigatório!">
    </app-control-erro>
  </div>


  <div class="c-input">
    <label for="Image" class="c-input-label">Imagem:</label>
    <input type="file"  style="height: 30px;" formControlName="image" id="Image" name="image" />
    <app-control-erro [mostrarErro]="verificaValidTouched('image')" msgErro="Campo obrigatório!">
    </app-control-erro>
  </div>

  <div>
    <label for="recipe" class="c-input-label" >Receita:</label>
    <input type="text" style="height: 30px;" class="c-inputs" formControlName="recipe" id="recipe" name="recipe" />
    <app-control-erro [mostrarErro]="verificaValidTouched('recipe')" msgErro="Campo obrigatório!">
    </app-control-erro>
  </div>

  <div class="c-input" >
    <label for="createdBy" class="c-input-label">Criado por:</label>
    <input type="text" style="height: 30px;" class="c-inputs" formControlName="createdBy" name="createdBy" id="createdBy" placeholder="Nome e sobrenome" />
    <app-control-erro [mostrarErro]="verificaValidTouched('createdBy')" msgErro="Campo obrigatório!">
    </app-control-erro>
  </div>

  <div class="c-input">
    <label for="serves" class="c-input-label">Serve:</label>
    <input type="text" class="c-inputs" style="height: 30px;" formControlName="serves" name="serves" id="serves"  />
    <app-control-erro [mostrarErro]="verificaValidTouched('serves')" msgErro="Campo obrigatório!">
    </app-control-erro>
  </div>

  <div class="c-input">
    <label for="preparationTime" class="c-input-label">Tempo de preparo:</label>
    <input type="text" style="height: 30px;" class="c-inputs" formControlName="preparationTime" name="preparationTime" id="preparationTime" />
    <app-control-erro [mostrarErro]="verificaValidTouched('preparationTime')" msgErro="Campo obrigatório!">
    </app-control-erro>
  </div>

  <div class="c-input" *ngFor="let ingredient of ingredients.controls;last as isLast;index as i" class="input-row">
    <label for="ingredients" class="c-input-label">Ingredientes:</label>
    <input  [formControl]="ingredient"  type="text" style="height: 30px;" class="c-inputs" formControlName="ingredients" id="ingredients"name="ingredients" />
    <app-control-erro [mostrarErro]="verificaValidTouched('ingredients')" msgErro="Campo obrigatório!">
    </app-control-erro>
    <button type="button" class="btn" *ngIf="ingredients.length > 1" (click)="onRemove(i)" >Remover</button>
    <button type="button" class="btn" *ngIf="isLast" (click)="onAdd()">Adicionar</button>
  </div>
  <h2>Ingredientes</h2>
  <div>{{ ingredients.valueChanges | async | json }}</div>

  <div class="c-input" >
    <label for="methodOfPreparation" class="c-input-label">Modo de Preparo:</label>
    <textarea
      id="methodOfPreparation"
      class="c-inputs-textarea"
      cols="70"
      rows="5"
      name="methodOfPreparation"
      formControlName="methodOfPreparation"
    ></textarea>
    <app-control-erro
      [mostrarErro]="verificaValidTouched('methodOfPreparation')"
      msgErro="Campo obrigatório!"
    >
    </app-control-erro>
  </div>

</div>
  <button type="submit" class="btn" >Salvar</button>
  <button type="button" (click)="onCancel()"  class="btn">Cancelar</button>

</form>
